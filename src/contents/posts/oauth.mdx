---
title: "Implementing OAuth in Next.js"
excerpt: "A step-by-step guide to setting up OAuth authentication in a Next.js application."
date: "2025-06-03"
authorName: "ChatGPT"
tags: Next.js, OAuth, Authentication, JavaScript
authorAvatar: 
readingTime: 5
---

# Implementing OAuth in Next.js

OAuth is a widely used standard for authentication. In this blog post, we'll walk through setting up OAuth in a **Next.js** application using **NextAuth.js**, a flexible and easy-to-use library.

## Step 1: Install Dependencies

First, install the required packages:

```bash
npm install next-auth
```

## Step 2: Configure NextAuth

Create a file called `[...nextauth].ts` or `[...nextauth].js` inside the `pages/api/auth` directory.

```tsx
import NextAuth from "next-auth";
import GitHubProvider from "next-auth/providers/github";

export default NextAuth({
  providers: [
    GitHubProvider({
      clientId: process.env.GITHUB_CLIENT_ID,
      clientSecret: process.env.GITHUB_CLIENT_SECRET,
    }),
  ],
});
```

## Step 3: Add Environment Variables

In your `.env.local` file, add your GitHub credentials:

```bash
GITHUB_CLIENT_ID=your_client_id
GITHUB_CLIENT_SECRET=your_client_secret
NEXTAUTH_URL=http://localhost:3000
```

## Step 4: Add Sign In / Sign Out Buttons

Use the `signIn` and `signOut` functions provided by NextAuth:

```js
import { signIn, signOut, useSession } from "next-auth/react";

export default function AuthButtons() {
  const { data: session } = useSession();

  return session ? (
    <>
      <p>Welcome, {session.user.name}</p>
      <button onClick={() => signOut()}>Sign out</button>
    </>
  ) : (
    <button onClick={() => signIn("github")}>Sign in with GitHub</button>
  );
}
```

## Step 5: Protect Routes

To protect routes, you can use the `useSession` hook or `getServerSideProps`:

```js {2,3}
import { getSession } from "next-auth/react";

export async function getServerSideProps(context) {
  const session = await getSession(context);

  if (!session) {
    return {
      redirect: {
        destination: "/api/auth/signin",
        permanent: false,
      },
    };
  }

  return {
    props: { session },
  };
}
```

## Conclusion

You now have a basic OAuth setup in your Next.js app using NextAuth.js! You can extend it with more providers, database sessions, and role-based access as needed.
